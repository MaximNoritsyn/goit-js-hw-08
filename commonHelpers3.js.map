{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {};\n\nconst onFormInput = event => {\n    const target = event.target;\n    formData[target.name] = target.value;\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)));\n    event.currentTarget.reset();\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n}\n\nconst populateForm = () => {\n    const savedData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    if (savedData) {\n        Object.keys(savedData).forEach(name => {\n            formData[name] = savedData[name];\n            form.elements[name].value = savedData[name];\n        });\n    }\n}\n\nform.addEventListener('input', throttle(onFormInput, 500));\n\nform.addEventListener('submit', onFormSubmit);\n\npopulateForm();"],"names":["form","LOCAL_STORAGE_KEY","formData","onFormInput","event","target","onFormSubmit","populateForm","savedData","name","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAoB,sBAEpBC,EAAW,CAAA,EAEXC,EAAcC,GAAS,CACzB,MAAMC,EAASD,EAAM,OACrBF,EAASG,EAAO,MAAQA,EAAO,MAC/B,aAAa,QAAQJ,EAAmB,KAAK,UAAUC,CAAQ,CAAC,CACpE,EAEMI,EAAeF,GAAS,CAC1BA,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAiB,CAAC,CAAC,EAC/DG,EAAM,cAAc,QACpB,aAAa,WAAWH,CAAiB,CAC7C,EAEMM,EAAe,IAAM,CACvB,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQP,CAAiB,CAAC,EAChEO,GACA,OAAO,KAAKA,CAAS,EAAE,QAAQC,GAAQ,CACnCP,EAASO,GAAQD,EAAUC,GAC3BT,EAAK,SAASS,GAAM,MAAQD,EAAUC,EAClD,CAAS,CAET,EAEAT,EAAK,iBAAiB,QAASU,EAASP,EAAa,GAAG,CAAC,EAEzDH,EAAK,iBAAiB,SAAUM,CAAY,EAE5CC,EAAc"}